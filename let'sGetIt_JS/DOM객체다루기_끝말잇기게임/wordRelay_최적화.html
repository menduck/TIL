<!DOCTYPE html>
<html lang="ko">
<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>끝말잇기</title>
</head>

<body>
  <div><span id="order">1</span>번째 참가자</div>
  <div>제시어 : <span id="word"></span></div>
  <input type="text">
  <button>입력</button>

  <script>
  const number = parseInt(prompt("몇 명이 참가하시나요?"));
  const $button = document.querySelector('button');
  const $input = document.querySelector('input');
  const $word = document.querySelector('#word');
  const $order = document.querySelector('#order');

  let word; //제시어
  let newWord; // 새로 입력한 단어

  const onclickButton = () =>{ // 입력 버튼 클릭
    if(!word || word[word.length -1] === newWord[0]){ // 제시어가 비어 있거나 입력한 단어가 올바른가?

      word = newWord; // 입력한 단어가 제시어가 된다. 
      $word.textContent = word; // 데이터 저장 후 화면에 보여준다.
      const order = parseInt($order.textContent); //현재 순서
      //다음 사람에게 순서를 넘긴다.
      if(order+1>number){ 
        $order.textContent =1 ; // textContent는 문자열로 받음.
      } else{
        $order.textContent = order +1;
      }
    } else { // 제시어가 있고, 단어가 올바르지 않다면
      alert('올바르지 않은 단어입니다!');
      }
      $input.value = '';
        $input.focus();

    };


  const onInput = (event)=>{
    newWord = event.target.value; //입력한 단어를 newWord에 저장
  };

  $button.addEventListener('click',onclickButton);
  $input.addEventListener('input',onInput);
  </script>
</body>
</html>
